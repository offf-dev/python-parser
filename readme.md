# Docker Compose

| Команда                                   | Что делает                                                              | Когда использовать                                                                                                  | Режим работы                  |
|-------------------------------------------|-------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------|-------------------------------|
| `docker-compose up`                       | Запускает контейнеры из уже существующих образов (без пересборки)       | Ничего не менял в коде/Dockerfile, просто поднять или перезапустить сервисы                                        | Foreground (логи в терминале) |
| `docker compose up fe-articles`           | Запускает только контейнер fe-articles | Ничего не менял в коде/Dockerfile, просто поднять или перезапустить сервисы                                        | Foreground (логи в терминале) |
| `docker-compose up --build`               | **Пересобирает** все образы → запускает контейнеры                      | Изменил код, Dockerfile, requirements.txt и т.д.                                                                   | Foreground                    |
| `docker-compose up -d`                    | Запускает контейнеры **в фоне** (detached)                              | Хочешь запустить и отойти от терминала                                                                              | Background                    |
| `docker-compose up -d --build`            | **Пересобирает образы + запускает в фоне** — САМАЯ ЧАСТАЯ КОМАНДА       | В 99% случаев: внёс любые изменения → одна команда всё пересобирает и поднимает                                     | Background                    |
| `docker-compose up --build --force-recreate` | Пересобирает + **полностью пересоздаёт контейнеры** (удаляет старые)    | Глюки с томами, кэшем, сетью — нужно «с чистого листа»                                                                     | Foreground (или с `-d`)       |

## Ежедневные команды

```bash
# 1. Основная команда — после любых изменений
docker-compose up -d --build

# 2. Просто перезапустить (без пересборки)
docker-compose up -d
# или короче:
docker-compose restart

# 3. Остановить всё
docker-compose down
# с очисткой томов (если нужно):
docker-compose down -v
```
